# 匿名投票评分系统

一个现代化的匿名投票网页应用，专为朋友之间选择出国旅游目的地而设计。支持拖拽排序投票、实时积分统计，并通过Google Apps Script和Google Sheets实现数据持久化。

## 🌟 核心功能

### ✨ 匿名身份系统
- 自动为每个参与者生成6-10个独特的动物代号（熊猫🐼、老虎🐅、狮子🦁等）
- 确保投票过程完全匿名，保护用户隐私
- 防止重复投票，每个代号只能投票一次

### 🗳️ 排序投票机制
- **目的地选项**：越南胡志明市、日本冲绳、韩国济州岛、韩国首尔、香港
- **积分规则**：第1名5分、第2名4分、第3名3分、第4名2分、第5名1分
- **操作方式**：支持桌面端拖拽和移动端触摸排序
- **即时反馈**：实时显示当前排序和预计得分

### 📊 智能数据统计
- **累计积分**：自动计算各目的地的总得分和排名
- **详细分析**：显示投票次数、平均得分、排名分布
- **可视化图表**：柱状图、饼图等多种数据展示
- **实时更新**：投票后立即更新统计结果

## 🎯 适用场景

- **朋友聚会**：集体决定旅游目的地
- **家庭活动**：选择度假地点
- **公司团建**：确定团队出行目标
- **社群投票**：任何需要排序选择的场景

## 🔧 技术架构

### 前端技术栈
- **HTML5 + CSS3**：现代化响应式设计
- **Vanilla JavaScript**：轻量级交互逻辑
- **Chart.js**：专业数据可视化
- **Progressive Web App**：支持移动端安装

### 后端服务
- **Google Apps Script**：无服务器后端处理
- **Google Sheets**：数据存储和管理
- **RESTful API**：标准HTTP接口

### 部署方案
- **GitHub Pages**：免费静态网站托管
- **Google Cloud Platform**：后端服务支持

## 📁 项目文件结构

```
voting-system/
├── index.html                    # 主投票页面
├── results.html                  # 结果展示页面
├── style.css                     # 完整样式表
├── script.js                     # 核心JavaScript逻辑
├── README.md                     # 项目说明文档
├── GitHub部署指南.md             # GitHub Pages部署教程
├── images/                       # 高质量目的地图片
│   ├── vietnam-hcmc.jpg         # 越南胡志明市
│   ├── japan-okinawa.jpg        # 日本冲绳
│   ├── korea-jeju.png           # 韩国济州岛
│   ├── korea-seoul.jpg          # 韩国首尔
│   └── hong-kong.jpeg           # 香港
└── google-apps-script/          # 后端代码和配置
    ├── Code.gs                   # Google Apps Script完整代码
    └── 部署指南.md               # 后端配置详细说明
```

## 🚀 快速部署指南

### 第一步：配置Google后端

1. **创建Google Sheets**
   - 新建电子表格，命名为"投票系统数据"
   - 复制表格URL中的ID部分

2. **部署Google Apps Script**
   - 访问[Google Apps Script](https://script.google.com)
   - 创建新项目，粘贴`google-apps-script/Code.gs`中的代码
   - 替换代码中的`SPREADSHEET_ID`
   - 部署为Web应用，获取API URL

3. **详细步骤**：参考[Google Apps Script部署指南](google-apps-script/部署指南.md)

### 第二步：部署前端网站

1. **GitHub仓库创建**
   - Fork本项目或创建新仓库
   - 上传所有前端文件

2. **配置GitHub Pages**
   - 在仓库Settings中启用Pages
   - 选择main分支作为源

3. **更新API配置**
   - 编辑`script.js`中的`API_CONFIG`
   - 替换为实际的Google Apps Script URL

4. **详细步骤**：参考[GitHub部署指南](GitHub部署指南.md)

### 第三步：测试验证

1. **功能测试**
   - 访问部署的网站URL
   - 进行完整投票流程测试
   - 验证结果页面数据显示

2. **数据验证**
   - 检查Google Sheets中的数据记录
   - 确认统计计算正确性

## 💡 使用说明

### 投票流程

1. **访问网站**
   - 打开投票页面，系统自动分配动物代号
   - 查看当前身份（如：熊猫🐼）

2. **排序投票**
   - 拖拽目的地卡片进行排序
   - 第1位的目的地将获得5分，第2位4分，依此类推
   - 实时预览当前排序结果

3. **提交投票**
   - 点击"提交投票"按钮
   - 确认投票选择
   - 系统自动保存并防止重复投票

4. **查看结果**
   - 访问结果页面查看实时统计
   - 查看各目的地排名和得分
   - 查看详细的投票分析

### 结果解读

- **总得分**：各目的地累计积分，分数越高排名越前
- **投票次数**：参与投票的总人数
- **平均得分**：目的地的平均分数，反映综合评价
- **排名分布**：显示每个目的地在各排名的选择次数

## 🔒 隐私保护

- **完全匿名**：仅使用动物代号，不收集任何个人信息
- **数据安全**：所有投票数据存储在您自己的Google账户中
- **透明开源**：所有代码公开，可自由审查和修改

## 🎨 界面特色

### 设计亮点
- **现代化UI**：紫色渐变背景，白色卡片设计
- **响应式布局**：完美适配手机、平板、桌面设备
- **流畅动画**：拖拽排序和状态转换动画
- **视觉友好**：高质量目的地图片和清晰排版

### 交互体验
- **直观操作**：拖拽即可完成排序
- **即时反馈**：操作结果立即可见
- **友好提示**：清晰的操作指引和状态信息
- **错误处理**：友好的错误提示和重试机制

## 📊 数据分析功能

### 统计指标
- **参与度分析**：投票人数和活跃度
- **偏好分析**：各目的地受欢迎程度
- **排名分析**：详细的排名分布统计
- **趋势分析**：投票时间分布

### 可视化图表
- **柱状图**：直观显示各目的地得分对比
- **饼图**：展示得分占比分布
- **排行榜**：清晰的排名列表
- **统计表格**：详细的数据明细

## 🛠️ 自定义配置

### 修改投票选项
```javascript
// 在script.js中更新目的地配置
const DESTINATIONS = {
    'new-destination': { 
        name: '新目的地', 
        nameEn: 'New Destination' 
    }
    // 添加更多选项...
};
```

### 调整积分规则
```javascript
// 修改积分计算逻辑
const score = customScoringFunction(rank, totalItems);
```

### 更换视觉主题
```css
/* 在style.css中修改主题色彩 */
:root {
    --primary-color: #your-primary-color;
    --secondary-color: #your-secondary-color;
    --accent-color: #your-accent-color;
}
```

## 🔧 故障排除

### 常见问题解决

1. **投票提交失败**
   ```
   问题：点击提交后显示错误
   解决：检查Google Apps Script API URL配置
        验证网络连接和权限设置
   ```

2. **结果页面无数据**
   ```
   问题：统计页面显示"暂无数据"
   解决：确认Google Sheets权限正确
        检查API返回数据格式
   ```

3. **移动端操作异常**
   ```
   问题：手机上拖拽不灵敏
   解决：使用触摸友好的排序方式
        检查移动端CSS适配
   ```

### 调试技巧

1. **查看浏览器控制台**：按F12检查JavaScript错误
2. **验证API连接**：直接访问Google Apps Script URL测试
3. **检查网络请求**：在Network标签查看API调用状态

## 🚀 性能优化建议

### 前端优化
- 压缩CSS和JavaScript文件
- 优化图片大小和格式
- 启用浏览器缓存
- 使用CDN加速静态资源

### 后端优化
- 优化Google Apps Script执行效率
- 合理设置API调用频率
- 实现数据缓存机制

## 🤝 贡献指南

欢迎参与项目改进：

1. **Fork项目**到您的GitHub账户
2. **创建功能分支**进行开发
3. **测试功能**确保质量
4. **提交Pull Request**描述更改内容

### 开发规范
- 遵循现有代码风格
- 添加必要的注释
- 测试新功能的兼容性
- 更新相关文档

## 📝 版本历史

- **v1.0.0** - 初始版本发布
  - 基础投票功能
  - Google Apps Script集成
  - GitHub Pages部署支持

## 📄 开源协议

本项目采用 MIT 开源协议，您可以自由使用、修改和分发。

## 👨‍💻 作者信息

**MiniMax Agent** - 专业AI代理，擅长处理复杂技术任务

- 项目设计与开发
- 系统架构优化
- 文档编写与维护

## 🙏 特别致谢

感谢以下技术和服务的支持：

- **Google Workspace** - 提供强大的后端服务
- **GitHub** - 优秀的代码托管和部署平台
- **Chart.js** - 专业的图表可视化库
- **Unsplash** - 高质量图片资源

## 📞 技术支持

如遇到问题或需要技术支持：

1. **查阅文档**：仔细阅读部署指南和故障排除部分
2. **检查日志**：查看浏览器控制台和Google Apps Script执行日志
3. **提交Issue**：在GitHub项目页面描述具体问题
4. **社区讨论**：参与项目讨论获取帮助

---

**重要提示**：首次使用请务必按照部署指南完成Google Apps Script和Google Sheets的配置，确保系统正常运行。

**立即开始**：[🚀 开始部署您的投票系统](GitHub部署指南.md)
